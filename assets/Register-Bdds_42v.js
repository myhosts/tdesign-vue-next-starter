import{u as S}from"./index-C56ppsNU.js";import{d as I,r as f,s as r,o as c,f as v,p as o,a as t,O as k,x as u,t as C,u as g,b as _,q as $,P as x,g as A}from"./index-Ml_qX-84.js";const B={class:"switch-container"},P=I({__name:"Register",emits:["registerSuccess"],setup(L,{emit:b}){const D={phone:"",email:"",password:"",verifyCode:"",checked:!1},T={phone:[{required:!0,message:"手机号必填",type:"error"}],email:[{required:!0,message:"邮箱必填",type:"error"},{email:!0,message:"请输入正确的邮箱",type:"warning"}],password:[{required:!0,message:"密码必填",type:"error"}],verifyCode:[{required:!0,message:"验证码必填",type:"error"}]},s=f("phone"),V=f(),a=f({...D}),i=f(!1),[y,h]=S(),z=b,U=d=>{if(d.validateResult===!0){if(!a.value.checked){x.error("请同意TDesign服务协议和TDesign 隐私声明");return}x.success("注册成功"),z("registerSuccess")}},q=d=>{V.value.reset(),s.value=d};return(d,e)=>{const m=r("t-icon"),p=r("t-input"),n=r("t-form-item"),w=r("t-button"),N=r("t-checkbox"),R=r("t-form");return c(),v(R,{ref_key:"form",ref:V,class:$(["item-container",`register-${s.value}`]),data:a.value,rules:T,"label-width":"0",onSubmit:U},{default:o(()=>[s.value=="phone"?(c(),v(n,{key:0,name:"phone"},{default:o(()=>[t(p,{modelValue:a.value.phone,"onUpdate:modelValue":e[0]||(e[0]=l=>a.value.phone=l),maxlength:11,size:"large",placeholder:"请输入您的手机号"},{"prefix-icon":o(()=>[t(m,{name:"user"})]),_:1},8,["modelValue"])]),_:1})):k("",!0),s.value=="email"?(c(),v(n,{key:1,name:"email"},{default:o(()=>[t(p,{modelValue:a.value.email,"onUpdate:modelValue":e[1]||(e[1]=l=>a.value.email=l),type:"text",size:"large",placeholder:"请输入您的邮箱"},{"prefix-icon":o(()=>[t(m,{name:"mail"})]),_:1},8,["modelValue"])]),_:1})):k("",!0),t(n,{name:"password"},{default:o(()=>[t(p,{modelValue:a.value.password,"onUpdate:modelValue":e[3]||(e[3]=l=>a.value.password=l),size:"large",type:i.value?"text":"password",clearable:"",placeholder:"请输入登录密码"},{"prefix-icon":o(()=>[t(m,{name:"lock-on"})]),"suffix-icon":o(()=>[t(m,{name:i.value?"browse":"browse-off",onClick:e[2]||(e[2]=l=>i.value=!i.value)},null,8,["name"])]),_:1},8,["modelValue","type"])]),_:1}),s.value=="phone"?(c(),v(n,{key:2,class:"verification-code",name:"verifyCode"},{default:o(()=>[t(p,{modelValue:a.value.verifyCode,"onUpdate:modelValue":e[4]||(e[4]=l=>a.value.verifyCode=l),size:"large",placeholder:"请输入验证码"},null,8,["modelValue"]),t(w,{variant:"outline",disabled:g(y)>0,onClick:g(h)},{default:o(()=>[u(C(g(y)==0?"发送验证码":`${g(y)}秒后可重发`),1)]),_:1},8,["disabled","onClick"])]),_:1})):k("",!0),t(n,{class:"check-container",name:"checked"},{default:o(()=>[t(N,{modelValue:a.value.checked,"onUpdate:modelValue":e[5]||(e[5]=l=>a.value.checked=l)},{default:o(()=>e[7]||(e[7]=[u("我已阅读并同意 ")])),_:1},8,["modelValue"]),e[8]||(e[8]=u()),e[9]||(e[9]=_("span",null,"TDesign服务协议",-1)),e[10]||(e[10]=u(" 和 ")),e[11]||(e[11]=_("span",null,"TDesign 隐私声明",-1))]),_:1}),t(n,null,{default:o(()=>[t(w,{block:"",size:"large",type:"submit"},{default:o(()=>e[12]||(e[12]=[u(" 注册 ")])),_:1})]),_:1}),_("div",B,[_("span",{class:"tip",onClick:e[6]||(e[6]=l=>q(s.value=="phone"?"email":"phone"))},C(s.value=="phone"?"使用邮箱注册":"使用手机号注册"),1)])]),_:1},8,["class","data"])}}}),E=A(P,[["__scopeId","data-v-4e80e612"]]);export{E as default};
